# SleepHQ Uploader

A Python CLI & web interface to fetch your ResMed EzShare CPAP data and upload it to SleepHQ.

## Table of Contents

- [Features]
- [Requirements] 
- [Installation]
- [Configuration]
- [Usage]( 
  - [CLI]
  - [Web UI]
- [Contributing]
- [License]
- [Disclaimer]

## Features

- Automatically switch your machine’s Wi-Fi to the ResMed EzShare network  
- Compute and compare remote folder hashes to detect new records  
- Download, zip, and upload new sleep-data files to SleepHQ  
- Dual interfaces: command-line and simple web UI  
- Basic unit test for remote-hash functionality  

## Requirements

- Python 3.8 or higher  
- Windows, macOS, or Linux  
- Git (for cloning the repo)  
- A SleepHQ API account (client ID & secret, username & password)  
- Access to a ResMed EzShare Wi-Fi network  

## Hardware requirements

-EzShare wifi SD card
-Raspberry PI zero 2 W

## Installation

1. **Clone the repository**  
   ```bash
   git clone https://github.com/stckz/SleepHQ-EZshare-Uploader.git
   ```

2. **Put files on Raspberry PI 2 W (headless 64bit installation)**  

3. **Place files in /home/pi/**  

4. **Run installer.sh**  

5. **Fill config.json**

## Configuration

Create a `config.json` in the project root with your credentials:

```json
{
  "client_id":     "YOUR_SLEEPHQ_CLIENT_ID",
  "client_secret": "YOUR_SLEEPHQ_CLIENT_SECRET",
  "username":      "YOUR_SLEEPHQ_USERNAME",
  "password":      "YOUR_SLEEPHQ_PASSWORD"
}
```

## Usage

### CLI

- **Run full workflow** (switch Wi-Fi → download → zip → upload):
  ```bash
  python sleep.py
  ```

- **Test remote-hash checker** for a specific date (YYYYMMDD):
  ```bash
  python test_rh.py 20250517
  ```

### Web UI

1. **Start the server**  
   ```bash
   python web.py
   ```
2. **Open in browser**  
   Navigate to [http://localhost:8080](http://localhost:8080)

## Contributing

This project was scaffolded with the assistance of ChatGPT and may have gaps. If you find bugs or want to add features:

1. Fork the repository  
2. Create a feature branch (`git checkout -b feature/foo`)  
3. Commit your changes (`git commit -m "Add foo"`)  
4. Push to the branch (`git push origin feature/foo`)  
5. Open a Pull Request  

Please ensure any new code includes tests and follows PEP 8 style.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

## Disclaimer

> **⚠️ This code was largely generated by ChatGPT.**  
> I may not be able to provide deep support for every edge case.  
> Use at your own risk, and feel free to fork or modify as needed.  
